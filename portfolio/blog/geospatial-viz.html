<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Geospatial Visualizations | Vibhor Singh</title>
    <meta name="description" content="Exploring spatial data through interactive maps using D3.js.">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=JetBrains+Mono:wght@400;700&display=swap"
        rel="stylesheet">

    <!DOCTYPE html>
    <html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Geospatial Visualizations | Vibhor Singh</title>
        <meta name="description" content="Exploring spatial data through interactive maps using D3.js.">

        <!-- Fonts -->
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link
            href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=JetBrains+Mono:wght@400;700&display=swap"
            rel="stylesheet">

        <!-- CSS -->
        <link rel="stylesheet" href="../css/style.css">

        <!-- Icons -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

        <!-- D3.js -->
        <script src="https://d3js.org/d3.v4.min.js"></script>
        <script src="https://d3js.org/topojson.v1.min.js"></script>

        <style>
            /* Custom D3 Styles */
            #visualization-container {
                background: rgba(255, 255, 255, 0.9);
                border-radius: 8px;
                padding: 1rem;
                margin: 2rem 0;
                overflow-x: auto;
            }

            svg {
                display: block;
                margin: 0 auto;
            }

            .mesh {
                fill: none;
                stroke: #000;
                stroke-width: 0.5px;
            }

            .land {
                fill: #4a4a4a;
            }

            .key-dot {
                display: inline-block;
                height: 12px;
                width: 12px;
                margin-right: 0.5em;
                border-radius: 50%;
            }

            .legend-item {
                font-size: 0.9rem;
                color: var(--text-secondary);
                margin-bottom: 0.5rem;
                display: flex;
                align-items: center;
            }

            .pies path {
                stroke: none;
            }
        </style>
    </head>

<body>
    <div class="background-grid"></div>

    <header class="navbar">
        <div class="container">
            <a href="../index.html" class="logo">VS<span class="dot">.</span></a>
            <nav>
                <ul class="nav-links">
                    <li><a href="../index.html">Home</a></li>
                    <li><a href="../index.html#projects">Projects</a></li>
                    <li><a href="../gallery.html">Gallery</a></li>
                    <li><a href="../index.html#contact">Contact</a></li>
                </ul>
                <button class="theme-toggle" aria-label="Toggle Dark Mode">
                    <i class="fas fa-moon"></i>
                </button>
            </nav>
            <div class="hamburger">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </header>

    <main>
        <article class="blog-post-container">
            <a href="../index.html#projects" class="back-link"><i class="fas fa-arrow-left"></i> Back to Projects</a>

            <header class="blog-header">
                <h1 class="blog-title">Geospatial Visualizations</h1>
                <div class="blog-meta">
                    <span><i class="far fa-calendar"></i> March 4, 2020</span>
                    <span><i class="fas fa-tag"></i> Visualization</span>
                </div>
            </header>

            <div class="blog-content">
                <p>This visualization explores the geographical distribution of donation purposes. It aims to answer
                    questions about how different regions prioritize various types of aid.</p>

                <h3>Key Insights</h3>
                <ul>
                    <li><strong>Industrial Development:</strong> Majority of countries receive donations for industrial
                        development.</li>
                    <li><strong>Air Transport:</strong> Countries in Western Europe, as well as Canada and Iceland, tend
                        to receive more funding for Air Transport.</li>
                    <li><strong>Power Generation:</strong> Eastern European countries receive significant funding for
                        Power Generation.</li>
                </ul>

                <div id="visualization-container"></div>

                <h3>Legend</h3>
                <div class="legend">
                    <div class="legend-item"><span class="key-dot" style="background: #d62728;"></span>Industrial
                        Development</div>
                    <div class="legend-item"><span class="key-dot" style="background: #9467bd;"></span>Rescheduling and
                        Refinancing</div>
                    <div class="legend-item"><span class="key-dot" style="background: #ff7f0e;"></span>Air Transport
                    </div>
                    <div class="legend-item"><span class="key-dot" style="background: #2ca02c;"></span>Power
                        Generation/non-Renewable Sources</div>
                    <div class="legend-item"><span class="key-dot" style="background: #1f77b4;"></span>Rail Transport
                    </div>
                </div>
            </div>
        </article>
    </main>

    <footer class="contact-section">
        <!DOCTYPE html>
        <html lang="en">

        <head>
            <meta charset="UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <title>Geospatial Visualizations | Vibhor Singh</title>
            <meta name="description" content="Exploring spatial data through interactive maps using D3.js.">

            <!-- Fonts -->
            <link rel="preconnect" href="https://fonts.googleapis.com">
            <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
            <link
                href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=JetBrains+Mono:wght@400;700&display=swap"
                rel="stylesheet">

            <!DOCTYPE html>
            <html lang="en">

            <head>
                <meta charset="UTF-8">
                <meta name="viewport" content="width=device-width, initial-scale=1.0">
                <title>Geospatial Visualizations | Vibhor Singh</title>
                <meta name="description" content="Exploring spatial data through interactive maps using D3.js.">

                <!-- Fonts -->
                <link rel="preconnect" href="https://fonts.googleapis.com">
                <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
                <link
                    href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=JetBrains+Mono:wght@400;700&display=swap"
                    rel="stylesheet">

                <!-- CSS -->
                <link rel="stylesheet" href="../css/style.css">

                <!-- Icons -->
                <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

                <!-- D3.js -->
                <script src="https://d3js.org/d3.v4.min.js"></script>
                <script src="https://d3js.org/topojson.v1.min.js"></script>

                <style>
                    /* Custom D3 Styles */
                    #visualization-container {
                        background: rgba(255, 255, 255, 0.9);
                        border-radius: 8px;
                        padding: 1rem;
                        margin: 2rem 0;
                        overflow-x: auto;
                    }

                    svg {
                        display: block;
                        margin: 0 auto;
                    }

                    .mesh {
                        fill: none;
                        stroke: #000;
                        stroke-width: 0.5px;
                    }

                    .land {
                        fill: #4a4a4a;
                    }

                    .key-dot {
                        display: inline-block;
                        height: 12px;
                        width: 12px;
                        margin-right: 0.5em;
                        border-radius: 50%;
                    }

                    .legend-item {
                        font-size: 0.9rem;
                        color: var(--text-secondary);
                        margin-bottom: 0.5rem;
                        display: flex;
                        align-items: center;
                    }

                    .pies path {
                        stroke: none;
                    }
                </style>
            </head>

        <body>
            <div class="background-grid"></div>

            <header class="navbar">
                <div class="container">
                    <a href="../index.html" class="logo">VS<span class="dot">.</span></a>
                    <nav>
                        <ul class="nav-links">
                            <li><a href="../index.html">Home</a></li>
                            <li><a href="../index.html#projects">Projects</a></li>
                            <li><a href="../gallery.html">Gallery</a></li>
                            <li><a href="../index.html#contact">Contact</a></li>
                        </ul>
                        <button class="theme-toggle" aria-label="Toggle Dark Mode">
                            <i class="fas fa-moon"></i>
                        </button>
                    </nav>
                    <div class="hamburger">
                        <span></span>
                        <span></span>
                        <span></span>
                    </div>
                </div>
            </header>

            <main>
                <article class="blog-post-container">
                    <a href="../index.html#projects" class="back-link"><i class="fas fa-arrow-left"></i> Back to
                        Projects</a>

                    <header class="blog-header">
                        <h1 class="blog-title">Geospatial Visualizations</h1>
                        <div class="blog-meta">
                            <span><i class="far fa-calendar"></i> March 4, 2020</span>
                            <span><i class="fas fa-tag"></i> Visualization</span>
                        </div>
                    </header>

                    <div class="blog-content">
                        <p>This visualization explores the geographical distribution of donation purposes. It aims to
                            answer
                            questions about how different regions prioritize various types of aid.</p>

                        <h3>Key Insights</h3>
                        <ul>
                            <li><strong>Industrial Development:</strong> Majority of countries receive donations for
                                industrial
                                development.</li>
                            <li><strong>Air Transport:</strong> Countries in Western Europe, as well as Canada and
                                Iceland, tend
                                to receive more funding for Air Transport.</li>
                            <li><strong>Power Generation:</strong> Eastern European countries receive significant
                                funding for
                                Power Generation.</li>
                        </ul>

                        <div id="visualization-container"></div>

                        <h3>Legend</h3>
                        <div class="legend">
                            <div class="legend-item"><span class="key-dot"
                                    style="background: #d62728;"></span>Industrial
                                Development</div>
                            <div class="legend-item"><span class="key-dot"
                                    style="background: #9467bd;"></span>Rescheduling and
                                Refinancing</div>
                            <div class="legend-item"><span class="key-dot" style="background: #ff7f0e;"></span>Air
                                Transport
                            </div>
                            <div class="legend-item"><span class="key-dot" style="background: #2ca02c;"></span>Power
                                Generation/non-Renewable Sources</div>
                            <div class="legend-item"><span class="key-dot" style="background: #1f77b4;"></span>Rail
                                Transport
                            </div>
                        </div>
                    </div>
                </article>
            </main>

            <footer class="contact-section">
                <div class="container">
                    <p class="copyright">&copy; 2025 Vibhor Singh. Built with <i class="fas fa-code"></i> and <i
                            class="fas fa-coffee"></i>.</p>
                </div>
            </footer>

            <script src="../js/main.js"></script>
            <script>
                var width = 800;
                var height = 500;

                var projection = d3.geoMercator().center([-10, 50]).scale(120).translate([width / 2, height / 2]);
                var path = d3.geoPath().projection(projection);

                var svg = d3.select("#visualization-container").append("svg")
                    .attr("width", "100%")
                    .attr("height", height)
                    .attr("viewBox", "0 0 " + width + " " + height)
                    .call(d3.zoom().scaleExtent([1, 8]).on("zoom", function () {
                        g.attr("transform", d3.event.transform)
                    }));

                var g = svg.append("g");
                var g1 = g.append("g");
                var g2 = g.append("g");

                d3.json("https://unpkg.com/world-atlas@1/world/110m.json", function (error, world) {
                    if (error) throw error;

                    g1.insert("path", ".land")
                        .datum(topojson.feature(world, world.objects.countries))
                        .attr("class", "land")
                        .attr("d", path);

                    g1.append("path")
                        .datum(topojson.mesh(world, world.objects.countries, function (a, b) { return a !== b; }))
                        .attr("class", "mesh")
                        .attr("d", path);
                });

                var arc = d3.arc().innerRadius(0).outerRadius(5);
                var pie = d3.pie().sort(null).value(function (d) { return d; });
                var color = d3.schemeCategory10;

                // Embedded CSV Data to avoid CORS issues
                var csvString = `Country,data,Donate,Receive,Lat,Long
Australia,1-21-0-1-0,2446616312,2572618261,-35.26666667,149.133333
Austria,0-6-0-0-0,784068952,770267419,48.2,16.366667
Belgium,0-2-0-0-0,2144445270,184346233,50.83333333,4.333333
Brazil,34-51-27-185-14,1134440,36607258078,-15.78333333,-47.916667
Canada,0-19-0-1-0,7466338200,3920186352,45.41666667,-75.7
Chile,12-23-5-85-7,564349,7334129130,-33.45,-70.666667
Colombia,8-26-25-131-0,190795,25530536307,4.6,-74.083333
Cyprus,0-1-1-3-0,5599,968154947,35.16666667,33.366667
Czech Republic,5-8-11-27-0,8930435,2141913341,50.08333333,14.466667
Denmark,0-3-0-0-0,2952416405,166310586,55.66666667,12.583333
Estonia,3-5-5-25-0,278942,251349503,59.43333333,24.716667
Finland,0-3-0-0-0,665953415,180695493,60.16666667,24.933333
France,0-3-0-0-0,15456459635,237540854,48.86666667,2.333333
Germany,0-0-0-0-0,40823292408,60164,52.51666667,13.4
Greece,0-2-1-2-0,32667185,519377906,37.98333333,23.733333
Hungary,3-3-6-18-0,324552,2925327491,47.5,19.083333
Iceland,0-1-0-0-0,172501,18060045,64.15,-21.95
India,97-53-123-489-127,0,1.34E+11,28.6,77.2
Ireland,0-4-2-3-0,295144458,934638729,53.31666667,-6.233333
Italy,0-5-0-0-0,3835655974,2400826417,41.9,12.483333
Japan,0-11-0-0-0,1.11E+11,2081102258,35.68333333,139.75
Korea,7-18-6-104-0,1299047720,25294323453,39.01666667,125.75
Kuwait,0-0-1-1-0,1369078319,2513103863,29.36666667,47.966667
Latvia,3-5-4-7-0,0,423495040,56.95,24.1
Liechtenstein,0-0-0-0-0,4370700,18393083,47.13333333,9.516667
Lithuania,2-3-12-12-0,0,514143270,54.68333333,25.316667
Luxembourg,0-3-0-0-0,111554022,555039832,49.6,6.116667
New Zealand,0-2-0-1-0,56749885,225588310,43.73333333,7.416667
Norway,0-5-0-0-0,4416814418,368001981,52.35,4.916667
Poland,8-16-5-65-16,403184,18122078775,-41.3,174.783333
Portugal,0-1-0-1-0,68900866,175242606,59.91666667,10.75
Qatar,0-0-3-1-0,104519053,733783749,52.25,21
Romania,9-8-5-39-0,0,3329059861,38.71666667,-9.133333
Saudi Arabia,1-5-10-21-0,1698410689,4877749103,25.28333333,51.533333
Slovak Republic,1-1-11-20-0,395574,821195623,44.43333333,26.1
Slovenia,3-0-1-3-1,150028,225435200,24.65,46.7
South Africa,5-16-14-121-0,0,18655555070,48.15,17.116667
Spain,0-1-12-1-0,2014695904,561711808,46.05,14.516667
Sweden,0-0-0-2-0,6364045876,59757155,-25.7,28.216667
Switzerland,0-0-0-0-0,2844087953,326783,40.4,-3.683333
Taiwan,1-8-0-43-0,83737498,3399554410,59.33333333,18.05
Thailand,51-47-30-183-1,25461,46151450692,46.91666667,7.466667
United Arab Emirates,0-1-0-3-0,67636986,300206472,25.03333333,121.516667
United Kingdom,0-4-0-0-0,23690539376,957343964,13.75,100.516667
United States,0-0-0-0-0,1.11E+11,104524992,24.46666667,54.366667
,,,,51.5,-0.083333
,,,,38.883333,-77`;

                var water = d3.csvParse(csvString);

                var marks = g2.selectAll("g")
                    .data(water)
                    .enter()
                    .append("g")
                    .attr("transform", function (d) {
                        var p = projection([d.Long, d.Lat]);
                        return p ? "translate(" + p + ")" : "translate(0,0)";
                    })
                    .attr("class", "pies");

                var pies = marks.selectAll(".pies")
                    .data(function (d) { return pie(d.data.split(['-'])); })
                    .enter()
                    .append('g')
                    .attr('class', 'arc');

                pies.append("path")
                    .attr('d', arc)
                    .attr("fill", function (d, i) {
                        return color[i];
                    });
            </script>
        </body>

        </html>